---
import type { CollectionEntry } from "astro:content";
import Layout from "./Layout.astro";
import FormattedDate from "@/components/Kits/FormattedDate.astro";

interface Props {
    title: string;
    description?: string;
    pubDate: Date;
    updatedDate?: Date;
    heroImage?: string | null;
    tags?: string[];
    category?: string;
}

const { title, description, pubDate, updatedDate, heroImage, tags, category } = Astro.props;
---

<Layout title={title} description={description}>
    <article class="max-w-4xl mx-auto px-4 py-8">
        {
            heroImage && (
                <img
                    src={heroImage}
                    alt={title}
                    class="w-full h-64 object-cover rounded-lg mb-8"
                />
            )
        }

        <div class="prose lg:prose-xl mx-auto">
            <h1 class="text-4xl font-bold mb-4">{title}</h1>

            <div class="text-sm text-gray-500 mb-8 flex gap-4 items-center flex-wrap">
                <span class="flex items-center gap-2">
                    ðŸ“… <FormattedDate date={pubDate} />
                </span>
                {
                    updatedDate && (
                        <span class="flex items-center gap-2">
                            ðŸ”„ <FormattedDate date={updatedDate} />
                        </span>
                    )
                }
                {
                    category && (
                        <a
                            href={`/category/${category}`}
                            class="badge badge-primary"
                        >
                            #{category}
                        </a>
                    )
                }
            </div>

            <div class="content">
                <slot />
            </div>
        </div>
    </article>
</Layout>